import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{i as c,f as d}from"./assets/vendor-BbbuE1sJ.js";class l{constructor(t){this._selector=t,this._targetDate=null,this._intervalId=null,this._isActive=!1,this._flatpickrOptions={enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:r=>{const e=r[0];if(e<new Date){c.error({message:"Please choose a date in the future"});return}this._targetDate=e,this._startButton.disabled=!1}},this._startButton=document.querySelector(`${this._selector} button[data-start]`),this._timerContainer=document.querySelector(this._selector)}_start(){if(this._isActive)return;if(this._isActive=!0,this._targetDate-new Date<=0){c.show({color:"red",title:"Error",message:"Please choose a date in the future"});return}this._intervalId=setInterval(()=>{const r=new Date,e=this._targetDate-r;if(e<=0){clearInterval(this._intervalId);const i=this._timerContainer.querySelector("input#datetime-picker");i&&(i.disabled=!1);return}const{days:n,hours:o,minutes:s,seconds:a}=this._convertMs(e);this._timerContainer.querySelector(".value[data-days]").textContent=String(n).padStart(2,"0"),this._timerContainer.querySelector(".value[data-hours]").textContent=String(o).padStart(2,"0"),this._timerContainer.querySelector(".value[data-minutes]").textContent=String(s).padStart(2,"0"),this._timerContainer.querySelector(".value[data-seconds]").textContent=String(a).padStart(2,"0")},1e3)}_convertMs(t){const s=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5),i=Math.floor(t%864e5%36e5/6e4),u=Math.floor(t%864e5%36e5%6e4/1e3);return{days:s,hours:a,minutes:i,seconds:u}}init(){d(`${this._selector} input#datetime-picker`,this._flatpickrOptions),this._startButton.disabled=!0,this._startButton.addEventListener("click",()=>{this._start(),this._startButton.disabled=!0;const t=this._timerContainer.querySelector("input#datetime-picker");t&&(t.disabled=!0)})}}const h=new l("div.timer-wrapper");h.init();
//# sourceMappingURL=1-timer.js.map
